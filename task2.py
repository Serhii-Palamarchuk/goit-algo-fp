# Завдання 2. Рекурсія. Створення фрактала “дерево Піфагора” за допомогою рекурсії
# Необхідно написати програму на Python, яка використовує рекурсію для створення фрактала “дерево Піфагора”. 
# Програма має візуалізувати фрактал “дерево Піфагора”, і користувач повинен мати можливість вказати рівень рекурсії.

# Критерії оцінювання:
# - Код виконується. Програма візуалізує фрактал “дерево Піфагора”.
# - Користувач має можливість вказати рівень рекурсії.

import turtle
import math

# Функція для рекурсивного малювання фрактала "дерево Піфагора"
def draw_tree(branch_length, level, t):
    if level == 0:
        return

    # Малюємо основну гілку
    t.forward(branch_length)
    new_length = branch_length * math.sqrt(2) / 2  # Класичне скорочення довжини гілок для дерева Піфагора

    # Малюємо ліву гілку
    t.left(45)  # Малюємо ліву гілку з класичним кутом 45 градусів
    draw_tree(new_length, level - 1, t)

    # Повертаємося назад до поточної позиції
    t.right(45)  # Повертаємося до вихідного положення після лівої гілки

    # Малюємо праву гілку
    t.right(45)  # Малюємо праву гілку з кутом 45 градусів
    draw_tree(new_length, level - 1, t)

    # Повертаємося назад до початкової позиції
    t.left(45)  # Повертаємо черепашку до початкового положення після правої гілки
    t.backward(branch_length)

# Основна програма для візуалізації фрактала
if __name__ == "__main__":
    # Введення рівня рекурсії користувачем
    recursion_level = int(input("Введіть рівень рекурсії (1-10, наприклад, 5): "))
    if recursion_level < 1 or recursion_level > 10:
        print("Будь ласка, введіть рівень рекурсії в діапазоні від 1 до 10.")
        exit()

    # Налаштування turtle для малювання
    screen = turtle.Screen()
    screen.tracer(0)  # Вимикаємо автоматичне оновлення для підвищення швидкості
    screen.bgcolor("white")
    t = turtle.Turtle()
    t.speed(0.5)  # Зменшуємо швидкість малювання для стабільності
    t.left(90)
    t.pendown()  # Починаємо малювати  # Повертаємо черепашку вгору
    t.color("#8B4513")  # Колір коричневий, схожий на дерево

    # Малюємо дерево Піфагора
    draw_tree(100, recursion_level, t)
    screen.update()  # Оновлюємо екран після малювання дерева

    # Завершення малювання
    t.hideturtle()  # Ховаємо черепашку після малювання
    screen.mainloop()
